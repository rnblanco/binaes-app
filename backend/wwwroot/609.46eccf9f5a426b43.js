"use strict";(self.webpackChunkpk_thunder_frontend=self.webpackChunkpk_thunder_frontend||[]).push([[609],{414:(x,u,c)=>{c.d(u,{r:()=>dt});var d=c(655),t=c(7587),s=c(2382),g=c(9783),p=c(5050),b=c(4986),T=c(4482),w=c(5403),y=c(1884),O=c(2959),r=c(9808),I=c(1424),N=c(4500),f=c(845),Z=c(5787),k=c(8203),A=c(6507);function Q(n,o){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.title," ")}}function J(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.subtitle," ")}}function M(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(a){return t.CHM(e),t.oxw().back(a)}),t.qZA()()}}function B(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"a",13),t.NdJ("click",function(a){return t.CHM(e),t.oxw().logOut(a)}),t._UZ(2,"i",14),t.TgZ(3,"span"),t._uU(4,"Cerrar sesi\xf3n"),t.qZA()()()}}const L=function(n){return{height:n}};let F=(()=>{class n{constructor(e){this.router=e,this.height=400,this.showBackButton=!1,this.showLogoutButton=!1,this.onLogOut=new t.vpe}ngOnInit(){}back(e){this.router.navigate([k.u.dashboardPage])}logOut(e){this.onLogOut.emit(e),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["alert-card"]],inputs:{title:"title",subtitle:"subtitle",image:"image",height:"height",showBackButton:"showBackButton",showLogoutButton:"showLogoutButton"},outputs:{onLogOut:"onLogOut"},decls:8,vars:8,consts:[[1,"p-d-flex","p-jc-center","container",3,"ngStyle"],[1,"p-d-flex","p-flex-column","p-as-center"],[1,"p-mb-2"],["onError","this.src='assets/layout/images/empty.png'",2,"height","200px",3,"src"],["class","p-mb-2 title",4,"ngIf"],["class","p-mb-2 subtitle",4,"ngIf"],["class","p-mt-2",4,"ngIf"],["class","p-mt-4",4,"ngIf"],[1,"p-mb-2","title"],[1,"p-mb-2","subtitle"],[1,"p-mt-2"],["pButton","","pRipple","","type","button","label","Salir de ac\xe1",3,"click"],[1,"p-mt-4"],["href","#",3,"click"],[1,"pi","pi-fw","pi-sign-out"]],template:function(e,l){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.YNc(4,Q,2,1,"div",4),t.YNc(5,J,2,1,"div",5),t.YNc(6,M,2,0,"div",6),t.YNc(7,B,5,0,"div",7),t.qZA()()),2&e&&(t.Q6J("ngStyle",t.VKq(6,L,l.height+"px")),t.xp6(3),t.Q6J("src",l.image,t.LSH),t.xp6(1),t.Q6J("ngIf",l.title),t.xp6(1),t.Q6J("ngIf",l.subtitle),t.xp6(1),t.Q6J("ngIf",l.showBackButton),t.xp6(1),t.Q6J("ngIf",l.showLogoutButton))},directives:[r.PC,r.O5,f.Hq],styles:["[_nghost-%COMP%]    {font-size:inherit}.container[_ngcontent-%COMP%]{text-align:center;padding:20px}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.subtitle[_ngcontent-%COMP%]{font-size:14px}"]}),n})();function P(n,o){if(1&n&&(t.TgZ(0,"span",14),t._UZ(1,"i",15)(2,"input",16),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("formGroup",e.form)}}function S(n,o){1&n&&t.GkF(0)}const Y=function(n){return{table:n}};function E(n,o){if(1&n&&(t.ynx(0),t.YNc(1,S,1,0,"ng-container",17),t.BQk()),2&n){const e=t.oxw(2),l=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",e.headerFilterTemplate)("ngTemplateOutletContext",t.VKq(2,Y,l))}}function R(n,o){}function z(n,o){1&n&&t._UZ(0,"p-skeleton",20)}function U(n,o){if(1&n&&(t.TgZ(0,"span",14),t._UZ(1,"i",15)(2,"input",16),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("formGroup",e.form)}}function D(n,o){if(1&n&&(t.YNc(0,z,1,0,"p-skeleton",18),t.YNc(1,U,3,1,"span",19)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.reloading),t.xp6(1),t.Q6J("ngIf",!e.reloading)}}function H(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onNewButtonClick()}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("label",e.newButtonLabel)}}function j(n,o){1&n&&t._UZ(0,"p-skeleton",20)}function G(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).onNewButtonClick()}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("label",e.newButtonLabel)}}function $(n,o){if(1&n&&(t.ynx(0),t.YNc(1,j,1,0,"p-skeleton",18),t.YNc(2,G,1,1,"button",23),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.reloading),t.xp6(1),t.Q6J("ngIf",!e.reloading)}}function W(n,o){if(1&n&&t.YNc(0,$,3,2,"ng-container",22),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.showNewButton)}}function q(n,o){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,P,3,1,"span",8),t.YNc(2,E,2,4,"ng-container",9),t.YNc(3,R,0,0,"ng-template",null,10,t.W1O),t.YNc(5,D,2,2,"ng-template",null,11,t.W1O),t.YNc(7,H,1,1,"button",12),t.YNc(8,W,1,1,"ng-template",null,13,t.W1O),t.qZA()),2&n){const e=t.MAs(4),l=t.MAs(6),a=t.MAs(9),i=t.oxw();t.xp6(1),t.Q6J("ngIf",!i.reloading&&0==(null==i.list?null:i.list.length))("ngIfElse",l),t.xp6(1),t.Q6J("ngIf",i.headerFilterTemplate)("ngIfElse",e),t.xp6(5),t.Q6J("ngIf",i.showNewButton&&!i.reloading&&0===(null==i.list?null:i.list.length))("ngIfElse",a)}}function K(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"p-sortIcon",28),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.header," "),t.xp6(1),t.Q6J("field",e.field)}}function V(n,o){if(1&n&&t._UZ(0,"p-sortIcon",28),2&n){const e=t.oxw(2).$implicit;t.Q6J("field",e.field)}}function X(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.YNc(2,V,1,1,"p-sortIcon",29),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.header," "),t.xp6(1),t.Q6J("ngIf",e.header)}}function tt(n,o){if(1&n&&(t.TgZ(0,"th",25),t.YNc(1,K,3,2,"ng-container",26),t.YNc(2,X,3,2,"ng-container",27),t.qZA()),2&n){const e=o.$implicit;t.Udp("width",e.width,"px"),t.Q6J("pSortableColumn",e.field)("ngSwitch",e.field),t.xp6(1),t.Q6J("ngSwitchCase","status")}}function et(n,o){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,tt,3,5,"th",24),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function nt(n,o){1&n&&t.GkF(0)}const ot=function(n,o,e){return{table:n,columns:o,rowData:e}};function lt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,nt,1,0,"ng-container",17),t.BQk()),2&n){const e=t.oxw(),l=e.columns,a=e.$implicit,i=t.oxw(),m=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",i.bodyTemplate)("ngTemplateOutletContext",t.kEZ(2,ot,m,l,a))}}function at(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit,l=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",l[e.field]," ")}}function it(n,o){if(1&n&&(t.TgZ(0,"td",33),t.YNc(1,at,2,1,"ng-container",27),t.qZA()),2&n){const e=o.$implicit;t.Udp("width",e.width,"px"),t.Q6J("ngSwitch",e.field)}}function ct(n,o){if(1&n&&t.YNc(0,it,2,3,"td",32),2&n){const e=t.oxw().columns;t.Q6J("ngForOf",e)}}function st(n,o){if(1&n&&(t.TgZ(0,"tr",30),t.YNc(1,lt,2,6,"ng-container",9),t.YNc(2,ct,1,1,"ng-template",null,31,t.W1O),t.qZA()),2&n){const e=o.$implicit,l=t.MAs(3),a=t.oxw();t.Q6J("pSelectableRow",e),t.xp6(1),t.Q6J("ngIf",a.bodyTemplate)("ngIfElse",l)}}function pt(n,o){1&n&&(t.TgZ(0,"td"),t._UZ(1,"p-skeleton",37),t.qZA())}function rt(n,o){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,pt,2,0,"td",36),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.cols)}}function _t(n,o){if(1&n&&t.YNc(0,rt,2,1,"tr",36),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.listSkeleton)}}function gt(n,o){if(1&n&&(t.TgZ(0,"tr",38)(1,"td"),t._UZ(2,"alert-card",39),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.uIk("colspan",e.cols.length+1),t.xp6(1),t.MGl("subtitle","Parece ser que a\xfan no se han creado ",e.type," que cumplan con los filtros."),t.Q6J("height",400)}}function mt(n,o){if(1&n&&(t.YNc(0,_t,1,1,"ng-template",null,34,t.W1O),t.YNc(2,gt,3,3,"tr",35)),2&n){const e=t.MAs(1),l=t.oxw();t.xp6(2),t.Q6J("ngIf",!l.reloading&&0==(null==l.list?null:l.list.length))("ngIfElse",e)}}const ut=function(){return[10,25,50,100]};let dt=(()=>{class n extends O.H{constructor(){super(),this.customClass="card",this.pagination={},this.newButtonLabel="Bot\xf3n",this.showNewButton=!0,this.editColumnFrozen=!1,this.totalRows=5,this.rows=10,this.reloading=!1,this.onLazyLoad=new t.vpe,this.selectedChange=new t.vpe,this.onRowSelect=new t.vpe,this.onRowUnselect=new t.vpe,this.onEditClick=new t.vpe,this.onNewClick=new t.vpe,this.hasData=!1,this.listSkeleton=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){var e;this.user=this.authService.storagedUser,this.hasData=(null===(e=this.pagination)||void 0===e?void 0:e.totalItems)>this.rows,this.form=new s.cw({search:new s.NI("")}),this.form.controls.search.setValue(this.globalFilter),this.textDebounce()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"body":this.bodyTemplate=e.template;break;case"editColumn":this.editColumnTemplate=e.template;break;case"headerFilter":this.headerFilterTemplate=e.template}})}ngOnChanges(){var e;this.hasData=(null===(e=this.pagination)||void 0===e?void 0:e.totalItems)>this.rows}textDebounce(){this.subscription.add(this.form.controls.search.valueChanges.pipe(function v(n,o=b.z){return(0,T.e)((e,l)=>{let a=null,i=null,m=null;const h=()=>{if(a){a.unsubscribe(),a=null;const _=i;i=null,l.next(_)}};function ft(){const _=m+n,C=o.now();if(C<_)return a=this.schedule(void 0,_-C),void l.add(a);h()}e.subscribe((0,w.x)(l,_=>{i=_,m=o.now(),a||(a=o.schedule(ft,n),l.add(a))},()=>{h(),l.complete()},void 0,()=>{i=a=null}))})}(1e3),(0,y.x)()).subscribe(e=>{this.dataTable.onLazyLoad.emit({globalFilter:e})}))}lazyLoading(e){const i=(0,d._T)(e,["filters","multiSortMeta"]);this.onLazyLoad.emit(i)}onRowTableSelect(e){this.selectedChange.emit(this.selected),this.onRowSelect.emit(e)}onNewButtonClick(){this.onNewClick.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["table-card"]],contentQueries:function(e,l,a){if(1&e&&t.Suo(a,g.jx,4),2&e){let i;t.iGM(i=t.CRH())&&(l.templates=i)}},viewQuery:function(e,l){if(1&e&&t.Gf(p.iA,5),2&e){let a;t.iGM(a=t.CRH())&&(l.dataTable=a.first)}},inputs:{customClass:"customClass",globalFilter:"globalFilter",pagination:"pagination",type:"type",loading:"loading",list:"list",newButtonLabel:"newButtonLabel",showNewButton:"showNewButton",editColumnFrozen:"editColumnFrozen",editColumnWidth:"editColumnWidth",selected:"selected",cols:"cols",totalRows:"totalRows",rows:"rows",reloading:"reloading"},outputs:{onLazyLoad:"onLazyLoad",selectedChange:"selectedChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onEditClick:"onEditClick",onNewClick:"onNewClick"},features:[t.qOj,t.TTD],decls:8,vars:17,consts:[[1,"p-col-12","animate__animated","animate__fadeIn","animate__fast"],["dataKey","id","responsiveLayout","scroll","styleClass","p-table-card p-datatable-sm","selectionMode","single",3,"rows","value","columns","rowHover","filterDelay","selection","scrollable","lazy","paginator","lazyLoadOnInit","totalRecords","scrollHeight","rowsPerPageOptions","scrollDirection","selectionChange","onRowSelect","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"p-d-flex","p-jc-between","p-p-2"],["class","p-input-icon-left",3,"formGroup",4,"ngIf","ngIfElse"],[4,"ngIf","ngIfElse"],["defaultHeaderFilter",""],["skeleton",""],["pButton","","pRipple","","type","button","class","p-button-primary",3,"label","click",4,"ngIf","ngIfElse"],["buttonSkeleton",""],[1,"p-input-icon-left",3,"formGroup"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...","formControlName","search"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["styleClass",'class="p-input-icon-left"',"width","15.5rem","height","2rem",4,"ngIf"],["class","p-input-icon-left",3,"formGroup",4,"ngIf"],["styleClass",'class="p-input-icon-left"',"width","15.5rem","height","2rem"],["pButton","","pRipple","","type","button",1,"p-button-primary",3,"label","click"],[4,"ngIf"],["pButton","","pRipple","","type","button","class","p-button-primary",3,"label","click",4,"ngIf"],["style","text-align: center",3,"pSortableColumn","ngSwitch","width",4,"ngFor","ngForOf"],[2,"text-align","center",3,"pSortableColumn","ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"field"],[3,"field",4,"ngIf"],[1,"p-selectable-row",3,"pSelectableRow"],["defaultBody",""],["class","flex justify-content-between align-items-center",3,"ngSwitch","width",4,"ngFor","ngForOf"],[1,"flex","justify-content-between","align-items-center",3,"ngSwitch"],["isLoading",""],["class","animate__animated animate__fadeIn",4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["height","2.5rem"],[1,"animate__animated","animate__fadeIn"],["title","\xa1Oh vaya!","image","/assets/images/ux/alert-warning.png",3,"subtitle","height"]],template:function(e,l){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"p-table",1,2),t.NdJ("selectionChange",function(i){return l.selected=i})("onRowSelect",function(i){return l.onRowTableSelect(i)})("onLazyLoad",function(i){return l.lazyLoading(i)}),t.YNc(4,q,10,6,"ng-template",3),t.YNc(5,et,2,1,"ng-template",4),t.YNc(6,st,4,3,"ng-template",5),t.YNc(7,mt,3,2,"ng-template",6),t.qZA()()()),2&e&&(t.xp6(1),t.Tol(l.customClass),t.xp6(1),t.Q6J("rows",l.rows)("value",l.list)("columns",l.cols)("rowHover",!0)("filterDelay",0)("selection",l.selected)("scrollable",l.editColumnFrozen)("lazy",!0)("paginator",!0)("lazyLoadOnInit",!1)("totalRecords",(null==l.pagination?null:l.pagination.totalItems)||l.rows)("scrollHeight",l.hasData?"auto":"")("rowsPerPageOptions",t.DdM(16,ut))("scrollDirection",l.editColumnFrozen?"both":"vertical"))},directives:[p.iA,g.jx,r.O5,s.JL,s.sg,s.Fj,I.o,s.JJ,s.u,r.tP,N.O,f.Hq,Z.H,r.sg,p.lQ,r.RF,r.n9,p.fz,r.ED,p.Ei,F],styles:["[_nghost-%COMP%]     .p-chip img{margin-left:0;margin-top:.3rem;margin-bottom:.3rem}[_nghost-%COMP%]     .card{padding:10px}[_nghost-%COMP%]     .p-input-icon-left>.p-inputtext{padding-left:2rem}[_nghost-%COMP%]     .p-input-icon-left>i:first-of-type{left:.5rem}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{font-weight:700;color:#000}[_nghost-%COMP%]     .p-datatable.p-datatable-scrollable .p-datatable-thead{background:unset}.p-table-card[_ngcontent-%COMP%]{background-color:#f3f3f3}[_nghost-%COMP%]   .p-datatable-frozen-tbody[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .p-inputtext.ng-valid[_ngcontent-%COMP%], .p-inputtext.ng-valid[_ngcontent-%COMP%]:focus, .p-inputtext.ng-valid[_ngcontent-%COMP%]:hover, .p-inputtext.ng-pristine[_ngcontent-%COMP%], .p-inputtext.ng-pristine[_ngcontent-%COMP%]:focus, .p-inputtext.ng-pristine[_ngcontent-%COMP%]:hover, .p-inputtext.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:0 solid white}[_nghost-%COMP%]   .p-inputtext.p-filled[_ngcontent-%COMP%]{border:1px solid green}"]}),n})()},3026:(x,u,c)=>{c.d(u,{p:()=>t});var d=c(7587);let t=(()=>{class s{transform(p){return p?"Agregar":"Editar"}}return s.\u0275fac=function(p){return new(p||s)},s.\u0275pipe=d.Yjl({name:"addOrEdit",type:s,pure:!0}),s})()}}]);