"use strict";(self.webpackChunkpk_thunder_frontend=self.webpackChunkpk_thunder_frontend||[]).push([[426],{7426:(Qe,y,c)=>{c.r(y),c.d(y,{AuthModule:()=>Je});var r=c(9808),C=c(7030),M=c(7098);function x(i,s,e,n,o,a,l){try{var d=i[a](l),h=d.value}catch(Ne){return void e(Ne)}d.done?s(h):Promise.resolve(h).then(n,o)}function w(i){return function(){var s=this,e=arguments;return new Promise(function(n,o){var a=i.apply(s,e);function l(h){x(a,n,o,l,d,"next",h)}function d(h){x(a,n,o,l,d,"throw",h)}l(void 0)})}}var I=c(3181),p=c(2382),L=c(6821),E=c(8203),t=c(7587);let T=(()=>{class i{constructor(e,n,o){this.el=e,this.ngModel=n,this.cd=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(p.On,8),t.Y36(t.sBO))},i.\u0275dir=t.lG2({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,n){1&e&&t.NdJ("input",function(a){return n.onInput(a)}),2&e&&t.ekj("p-filled",n.filled)}}),i})(),k=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez]]}),i})();var b=c(845),O=c(1);function D(i,s){1&i&&t._UZ(0,"i",12)}function P(i,s){1&i&&(t.TgZ(0,"span",13),t._uU(1," Debe digitar un e-mail para iniciar sesi\xf3n"),t.qZA())}function z(i,s){1&i&&t._UZ(0,"i",12)}function A(i,s){1&i&&(t.TgZ(0,"span",13),t._uU(1," Debe digitar una contrase\xf1a para iniciar sesi\xf3n"),t.qZA())}const B=function(){return{height:"80vh"}},F=function(){return{background:"white"}};let _=(()=>{class i extends I.H{constructor(e){super(),this.elementRef=e}ngAfterViewInit(){this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor="#545094"}ngOnInit(){this.form=this.formBuilder.group({email:["",[p.kI.required,p.kI.pattern(this.validatorService.emailPattern)]],password:["",p.kI.required]})}encode(e){return w(function*(){const n=(new TextEncoder).encode(e),o=yield crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(o)).map(l=>l.toString(16).padStart(2,"0")).join("")})()}onSubmit(){var e=this;return w(function*(){const n=yield e.encode(e.form.value.contrasena);e.subscription.add(e.catalogService.addOfURL("INICIAR_SESION",{email:e.form.value.email,contrasena:n}).subscribe({next:o=>{e.storageService.store(L.J.user,o),e.router.navigate([E.u.eventsPage])},error:o=>{console.log(o),e.messageService.setPayload({type:"warn",title:"Error",body:o.Message})}}))})()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-login-page"]],features:[t.qOj],decls:21,vars:12,consts:[[1,"p-d-flex","p-jc-center","p-ai-center"],["autocomplete","off",1,"p-fluid","p-formgrid","p-grid","p-ml-3","p-mr-3","animate__animated","animate__fadeIn","animate__fast","card","custom-card","p-p-4",3,"formGroup","ngSubmit"],[1,"p-input-icon-left","p-jc-center","p-ai-center","p-ac-center","p-d-flex","p-flex-column"],[1,"text-center"],[1,"p-col-12","p-field"],[1,"p-input-icon-right"],["type","email","formControlName","email","autocomplete","off","placeholder","Ej. micorreo@gmail.com","pInputText",""],["class","p-success bi bi-check2",4,"ngIf"],["class","p-error",4,"ngIf"],["type","password","formControlName","password","autocomplete","off","placeholder","\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf","pInputText",""],[1,"p-col-12","p-mt-4","text-center","p-jc-center","p-ai-center","p-ac-center","p-d-flex","p-flex-column","p-fluid"],["pButton","","type","button","label","Ingresar","NoDblClick","",1,"p-button-lg",3,"disabled","click"],[1,"p-success","bi","bi-check2"],[1,"p-error"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(2,"span",2)(3,"h3",3),t._uU(4,"Iniciar sesi\xf3n"),t.qZA()(),t.TgZ(5,"div",4)(6,"label"),t._uU(7,"E-mail"),t.qZA(),t.TgZ(8,"div",5),t._UZ(9,"input",6),t.YNc(10,D,1,0,"i",7),t.qZA(),t.YNc(11,P,2,0,"span",8),t.qZA(),t.TgZ(12,"div",4)(13,"label"),t._uU(14,"Contrase\xf1a"),t.qZA(),t.TgZ(15,"div",5),t._UZ(16,"input",9),t.YNc(17,z,1,0,"i",7),t.qZA(),t.YNc(18,A,2,0,"span",8),t.qZA(),t.TgZ(19,"div",10)(20,"button",11),t.NdJ("click",function(){return n.onSubmit()}),t.qZA()()()()),2&e&&(t.Akn(t.DdM(10,B)),t.xp6(1),t.Akn(t.DdM(11,F)),t.Q6J("formGroup",n.form),t.xp6(9),t.Q6J("ngIf",n.validatorService.validCheck(n.form,"email")),t.xp6(1),t.Q6J("ngIf",n.validatorService.validField(n.form,"email")),t.xp6(6),t.Q6J("ngIf",n.validatorService.validCheck(n.form,"password")),t.xp6(1),t.Q6J("ngIf",n.validatorService.validField(n.form,"password")),t.xp6(2),t.Q6J("disabled",n.form.invalid))},directives:[p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,T,r.O5,b.Hq,O.M],encapsulation:2}),i})();const H=[{path:"",component:_,pathMatch:"full"},{path:"login",component:_},{path:"login/:expiration",component:_},{path:"not-found",component:M.T},{path:"unauthorized",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-unauthorized-page"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"unauthorized-page works!"),t.qZA())},styles:[""]}),i})()}];let Z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[C.Bz.forChild(H)],C.Bz]}),i})(),j=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez]]}),i})(),V=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez]]}),i})(),q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,b.hJ]]}),i})();var u=c(5921);const $=["cb"],G=function(i,s,e){return{"p-checkbox-label":!0,"p-checkbox-label-active":i,"p-disabled":s,"p-checkbox-label-focus":e}};function K(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"label",7),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw(),l=t.MAs(3);return a.onClick(o,l,!0)}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.Tol(e.labelStyleClass),t.Q6J("ngClass",t.kEZ(5,G,e.checked(),e.disabled,e.focused)),t.uIk("for",e.inputId),t.xp6(1),t.Oqu(e.label)}}const W=function(i,s,e){return{"p-checkbox p-component":!0,"p-checkbox-checked":i,"p-checkbox-disabled":s,"p-checkbox-focused":e}},X=function(i,s,e){return{"p-highlight":i,"p-disabled":s,"p-focus":e}},ee={provide:p.JU,useExisting:(0,t.Gpc)(()=>te),multi:!0};let te=(()=>{class i{constructor(e){this.cd=e,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new t.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(e,n,o){e.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(e),o&&n.focus())}updateModel(e){let n;this.binary?(n=this.checked()?this.falseValue:this.trueValue,this.model=n,this.onModelChange(n)):(n=this.checked()?this.model.filter(o=>!u.gb.equals(o,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(n),this.model=n,this.formControl&&this.formControl.setValue(n)),this.onChange.emit({checked:n,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:u.gb.contains(this.value,this.model)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["p-checkbox"]],viewQuery:function(e,n){if(1&e&&t.Gf($,5),2&e){let o;t.iGM(o=t.CRH())&&(n.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[t._Bn([ee])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),t.NdJ("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("change",function(l){return n.handleChange(l)}),t.qZA()(),t.TgZ(4,"div",4),t.NdJ("click",function(l){t.CHM(o);const d=t.MAs(3);return n.onClick(l,d,!0)}),t._UZ(5,"span",5),t.qZA()(),t.YNc(6,K,2,9,"label",6)}2&e&&(t.Tol(n.styleClass),t.Q6J("ngStyle",n.style)("ngClass",t.kEZ(18,W,n.checked(),n.disabled,n.focused)),t.xp6(2),t.Q6J("readonly",n.readonly)("value",n.value)("checked",n.checked())("disabled",n.disabled),t.uIk("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("required",n.required),t.xp6(2),t.Q6J("ngClass",t.kEZ(22,X,n.checked(),n.disabled,n.focused)),t.xp6(1),t.Q6J("ngClass",n.checked()?n.checkboxIcon:null),t.xp6(1),t.Q6J("ngIf",n.label))},directives:[r.PC,r.mk,r.O5],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),i})(),ie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez]]}),i})(),ne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez]]}),i})();var g=c(5787);function se(i,s){if(1&i&&t._UZ(0,"span",8),2&i){const e=t.oxw(2).$implicit;t.Tol(e.icon),t.Q6J("ngClass","p-button-icon p-button-icon-left")}}function oe(i,s){if(1&i&&(t.ynx(0),t.YNc(1,se,1,3,"span",6),t.TgZ(2,"span",7),t._uU(3),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",e.icon),t.xp6(2),t.Oqu(n.getOptionLabel(e))}}function ae(i,s){1&i&&t.GkF(0)}const re=function(i,s){return{$implicit:i,index:s}};function le(i,s){if(1&i&&t.YNc(0,ae,1,0,"ng-container",9),2&i){const e=t.oxw(),n=e.$implicit,o=e.index,a=t.oxw();t.Q6J("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",t.WLB(2,re,n,o))}}const ce=function(i,s,e){return{"p-highlight":i,"p-disabled":s,"p-button-icon-only":e}};function pe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",2,3),t.NdJ("click",function(o){const a=t.CHM(e),l=a.$implicit,d=a.index;return t.oxw().onItemClick(o,l,d)})("keydown.enter",function(o){const a=t.CHM(e),l=a.$implicit,d=a.index;return t.oxw().onItemClick(o,l,d)})("blur",function(){return t.CHM(e),t.oxw().onBlur()}),t.YNc(2,oe,4,2,"ng-container",4),t.YNc(3,le,1,5,"ng-template",null,5,t.W1O),t.qZA()}if(2&i){const e=s.$implicit,n=t.MAs(4),o=t.oxw();t.Tol(e.styleClass),t.Q6J("ngClass",t.kEZ(10,ce,o.isSelected(e),o.disabled||o.isOptionDisabled(e),e.icon&&!o.getOptionLabel(e))),t.uIk("aria-pressed",o.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",o.disabled?null:o.tabindex)("aria-labelledby",o.getOptionLabel(e)),t.xp6(2),t.Q6J("ngIf",!o.itemTemplate)("ngIfElse",n)}}const de={provide:p.JU,useExisting:(0,t.Gpc)(()=>ue),multi:!0};let ue=(()=>{class i{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new t.vpe,this.onChange=new t.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?u.gb.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?u.gb.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?u.gb.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,n,o){if(!this.disabled&&!this.isOptionDisabled(n)){if(this.multiple)this.isSelected(n)?this.removeOption(n):this.value=[...this.value||[],this.getOptionValue(n)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let a=this.getOptionValue(n);this.value!==a&&(this.value=this.getOptionValue(n),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:n,index:o})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(n=>!u.gb.equals(n,this.getOptionValue(e),this.dataKey))}isSelected(e){let n=!1,o=this.getOptionValue(e);if(this.multiple){if(this.value)for(let a of this.value)if(u.gb.equals(a,o,this.dataKey)){n=!0;break}}else n=u.gb.equals(this.getOptionValue(e),this.value,this.dataKey);return n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["p-selectButton"]],contentQueries:function(e,n,o){if(1&e&&t.Suo(o,t.Rgc,5),2&e){let a;t.iGM(a=t.CRH())&&(n.itemTemplate=a.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[t._Bn([de])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,pe,5,14,"div",1),t.qZA()),2&e&&(t.Tol(n.styleClass),t.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",n.style),t.xp6(1),t.Q6J("ngForOf",n.options))},directives:[r.mk,r.PC,r.sg,g.H,r.O5,r.tP],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),i})(),he=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,g.T]]}),i})(),Se=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,g.T]]}),i})();var S=c(6198);let Me=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,S.L]]}),i})();var f=c(1777),v=c(5730),m=c(9783);const Ie=["input"];function Le(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"i",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().clear()}),t.qZA()}}function Ee(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"i",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().onMaskToggle()}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("ngClass",e.toggleIconClass())}}function Oe(i,s){1&i&&t.GkF(0)}function De(i,s){1&i&&t.GkF(0)}function Pe(i,s){if(1&i&&(t.ynx(0),t.YNc(1,De,1,0,"ng-container",8),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.contentTemplate)}}const ze=function(i){return{width:i}};function Ae(i,s){if(1&i&&(t.TgZ(0,"div",11),t._UZ(1,"div",0),t.qZA(),t.TgZ(2,"div",12),t._uU(3),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",e.strengthClass())("ngStyle",t.VKq(3,ze,e.meter?e.meter.width:"")),t.xp6(2),t.Oqu(e.infoText)}}function Be(i,s){1&i&&t.GkF(0)}const Fe=function(i,s){return{showTransitionParams:i,hideTransitionParams:s}},Re=function(i){return{value:"visible",params:i}};function He(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6,7),t.NdJ("click",function(o){return t.CHM(e),t.oxw().onOverlayClick(o)})("@overlayAnimation.start",function(o){return t.CHM(e),t.oxw().onAnimationStart(o)})("@overlayAnimation.done",function(o){return t.CHM(e),t.oxw().onAnimationEnd(o)}),t.YNc(2,Oe,1,0,"ng-container",8),t.YNc(3,Pe,2,1,"ng-container",9),t.YNc(4,Ae,4,5,"ng-template",null,10,t.W1O),t.YNc(6,Be,1,0,"ng-container",8),t.qZA()}if(2&i){const e=t.MAs(5),n=t.oxw();t.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",t.VKq(9,Re,t.WLB(6,Fe,n.showTransitionOptions,n.hideTransitionOptions))),t.xp6(2),t.Q6J("ngTemplateOutlet",n.headerTemplate),t.xp6(1),t.Q6J("ngIf",n.contentTemplate)("ngIfElse",e),t.xp6(3),t.Q6J("ngTemplateOutlet",n.footerTemplate)}}const Ze={provide:p.JU,useExisting:(0,t.Gpc)(()=>je),multi:!0};let je=(()=>{class i{constructor(e,n,o,a){this.cd=e,this.config=n,this.el=o,this.overlayService=a,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new t.vpe,this.onBlur=new t.vpe,this.onClear=new t.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,u.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(e){"void"===e.toState&&u.P9.clear(e.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=v.p.getOuterWidth(this.input.nativeElement)+"px",v.p.absolutePosition(this.overlay,this.input.nativeElement)):v.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(e)}onKeyDown(e){"Escape"===e.key&&(this.overlayVisible=!1)}onKeyUp(e){this.feedback&&(this.updateUI(e.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(e){let n=null,o=null;switch(this.testStrength(e)){case 1:n=this.weakText(),o={strength:"weak",width:"33.33%"};break;case 2:n=this.mediumText(),o={strength:"medium",width:"66.66%"};break;case 3:n=this.strongText(),o={strength:"strong",width:"100%"};break;default:n=this.promptText(),o=null}this.meter=o,this.infoText=n}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let n=0;return this.strongCheckRegExp.test(e)?n=3:this.mediumCheckRegExp.test(e)?n=2:e.length&&(n=1),n}writeValue(e){this.value=void 0===e?null:e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new v.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(m.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(m.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(m.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(m.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(u.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(m.b4),t.Y36(t.SBq),t.Y36(m.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["p-password"]],contentQueries:function(e,n,o){if(1&e&&t.Suo(o,m.jx,4),2&e){let a;t.iGM(a=t.CRH())&&(n.templates=a)}},viewQuery:function(e,n){if(1&e&&t.Gf(Ie,5),2&e){let o;t.iGM(o=t.CRH())&&(n.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(e,n){2&e&&t.ekj("p-inputwrapper-filled",n.filled())("p-inputwrapper-focus",n.focused)("p-password-clearable",n.showClear)("p-password-mask",n.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[t._Bn([Ze])],decls:6,vars:18,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"input",1,2),t.NdJ("input",function(a){return n.onInput(a)})("focus",function(a){return n.onInputFocus(a)})("blur",function(a){return n.onInputBlur(a)})("keyup",function(a){return n.onKeyUp(a)})("keydown",function(a){return n.onKeyDown(a)}),t.qZA(),t.YNc(3,Le,1,0,"i",3),t.YNc(4,Ee,1,1,"i",4),t.YNc(5,He,7,11,"div",4),t.qZA()),2&e&&(t.Tol(n.styleClass),t.Q6J("ngClass",n.containerClass())("ngStyle",n.style),t.xp6(1),t.Tol(n.inputStyleClass),t.Q6J("ngClass",n.inputFieldClass())("ngStyle",n.inputStyle)("value",n.value),t.uIk("label",n.label)("aria-label",n.ariaLabel)("aria-labelledBy",n.ariaLabelledBy)("id",n.inputId)("type",n.inputType())("placeholder",n.placeholder),t.xp6(2),t.Q6J("ngIf",n.showClear&&null!=n.value),t.xp6(1),t.Q6J("ngIf",n.toggleMask),t.xp6(1),t.Q6J("ngIf",n.overlayVisible))},directives:[r.mk,r.PC,T,r.O5,r.tP],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,f.X$)("overlayAnimation",[(0,f.eR)(":enter",[(0,f.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,f.jt)("{{showTransitionParams}}")]),(0,f.eR)(":leave",[(0,f.jt)("{{hideTransitionParams}}",(0,f.oB)({opacity:0}))])])]},changeDetection:0}),i})(),Ve=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,k],m.m8]}),i})(),Je=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,j,p.UX,Z,p.u5,b.hJ,k,V,q,ie,ne,he,g.T,Se,S.L,Me,Ve]]}),i})()}}]);