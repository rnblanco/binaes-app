<div class="card p-mt-4">
    <app-loading *ngIf="loading"
                 class="p-d-flex p-ai-center p-jc-center"
                 style="height: 80%"></app-loading>
    <form *ngIf="!loading"
          #form="ngForm"
          autocomplete="off"
          class="p-fluid p-formgrid p-grid p-formgrid-sm p-ml-2 p-mr-2">

      <div class="p-field p-col-12">
        <label>Titulo:</label>
        <div class="p-input-icon-right">
          <input name="title" [(ngModel)]="title" placeholder="Ej. Charla 'Uso correcto aplicación BINAES' " pInputText />
        </div>
      </div>

      <div class="p-field p-col-12">
        <label>Objetivo:</label>
        <div class="p-input-icon-right">
          <input name="objective" [(ngModel)]="objective" placeholder="Ej. 'Con este evento se busca lograr...'" pInputText />
        </div>
      </div>

      <div class="p-field p-col-6 p-mt-2">
        <label>Área:</label>
        <p-multiSelect [options]="areas" [(ngModel)]="selectedArea" (onFilter)="areaFilter($event)" (onChange)="areaChange($event)" [showToggleAll]="false"
                                    #areaMultiSelect name="selectedArea" defaultLabel="Elige un área" optionLabel="nombre" optionValue="id_Area"
                                    [showClear]="true" [resetFilterOnHide]="true">
            <ng-template let-group pTemplate="emptyfilter">
                <button pButton pRipple type="button" class="p-button-primary" label="Agregar '{{areaText}}'" [disabled]="true"></button>
            </ng-template>
        </p-multiSelect>
    </div>
  
    <div class="p-field p-col-3 p-mt-2">
        <label>Fecha de inicio:</label>
        <div class="field col-12 md:col-4">
          <p-calendar name="begdate" [(ngModel)]="begdate" [minDate]="maxDate" dateFormat="yy-mm-dd"></p-calendar>
        </div>
      </div>
  
      <div class="p-field p-col-3 p-mt-2">
        <label>Fecha de finalización:</label>
        <div class="field col-12 md:col-4">
          <p-calendar name="enddate" [(ngModel)]="enddate" [minDate]="begdate" dateFormat="yy-mm-dd"></p-calendar>
        </div>
      </div>
  
      <div class="p-field p-col-6 p-mt-2">
        <label>Logo del evento:</label>
        <p-fileUpload name="demo[]" (onSelect)="onSelectFile($event)" (onUpload)="onUpload($event)" accept="image/*" [showUploadButton]="false" [showCancelButton]="false">
          <ng-template pTemplate="content">
            <label>Portada actual:</label><br />
            <img src="{{ uploadedFile }}" style="height:10em"/>
          </ng-template>
        </p-fileUpload> 
      </div>
      
      <div class="p-field p-col-6 p-mt-6">
        <label>Capacidad del evento:</label>

        <div class="p-input-icon-right">
            <input name="capacity" [(ngModel)]="capacity" placeholder="Ej. 100" pInputText />
          </div>
      </div>

      <div class="p-col-12 p-grid p-mt-2">
        <div [ngClass]="{'p-col-10': user.id_rolUsuario === SUPER_ADMIN && !isNew, 'p-col-12': isNew || user.id_rolUsuario !== SUPER_ADMIN}">
          <button [loading]="addLoading" pButton pRipple type="button" class="p-button-success" [label]="isNew | addOrEdit" (click)="addEvent()" [disabled]="!formIsValid"></button>
        </div>
  
        <div *ngIf="user.id_rolUsuario === SUPER_ADMIN && !isNew" class="p-col">
          <button [loading]="deleteLoading" pButton pRipple type="button" class="p-button-danger" label="Eliminar" icon="pi pi-trash" (click)="deleteEvent()"></button>
        </div>
      </div>
    </form>
  </div>
  
  
